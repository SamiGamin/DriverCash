<?xml version="1.0" encoding="utf-8"?>
<navigation xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    xmlns:tools="http://schemas.android.com/tools"
    android:id="@+id/nav_host"
    app:startDestination="@id/nav_main_dashboard">

    <!-- ... (otros fragmentos como nav_main_dashboard, nav_details, nav_settings, etc. se mantienen igual) ... -->

    <fragment
        android:id="@+id/nav_details"
        android:name="com.sami.DriverCash.Ui.Detalles.DetailsFragment"
        android:label="Detalles"
        tools:layout="@layout/fragment_details">
        <action
            android:id="@+id/action_detailsFragment_to_historialDiaFragment"
            app:destination="@id/nav_historial_dia" />
    </fragment>

    <!-- Fragmento para añadir/editar un nuevo ingreso -->
    <fragment
        android:id="@+id/nav_add_ingreso"
        android:name="com.sami.DriverCash.Ui.Fragments.AddIngresoFragment"
        android:label="Ingreso"
        tools:layout="@layout/fragment_add_ingreso">
        <argument
            android:name="ingresoId"
            android:defaultValue="-1L"
            app:argType="long" /> <!-- -1L para nuevo, >0 para editar -->
    </fragment>

    <!-- Fragmento para añadir/editar un nuevo gasto -->
    <fragment
        android:id="@+id/nav_add_gasto"
        android:name="com.sami.DriverCash.Ui.Fragments.AddGastoFragment"
        android:label="Gasto"
        tools:layout="@layout/fragment_add_gasto">
        <argument
            android:name="gastoId"
            android:defaultValue="-1L"
            app:argType="long" />
    </fragment>

    <!-- Fragmento para añadir/editar horas trabajadas -->
    <fragment
        android:id="@+id/nav_add_horas_trabajadas"
        android:name="com.sami.DriverCash.Ui.Fragments.AddHorasTrabajadasFragment"
        android:label="Horas Trabajadas"
        tools:layout="@layout/fragment_add_horas_trabajadas">
        <argument
            android:name="horasTrabajadasId"
            app:argType="long"
            android:defaultValue="-1L" />
    </fragment>

    <!-- Fragmento para añadir/editar kilometraje recorrido -->
    <fragment
        android:id="@+id/nav_add_kilometraje"
        android:name="com.sami.DriverCash.Ui.Fragments.AddKilometrajeRecorridoFragment"
        android:label="Kilometraje"
        tools:layout="@layout/fragment_add_kilometraje_recorrido">
        <argument
            android:name="kilometrajeId"
            android:defaultValue="-1L"
            app:argType="long" />
    </fragment>

    <fragment
        android:id="@+id/nav_historial_dia"
        android:name="com.sami.DriverCash.Ui.Detalles.HistorialDiaFragment"
        android:label="Historial del Día"
        tools:layout="@layout/fragment_historial_dia">
        <argument
            android:name="fechaTimestamp"
            app:argType="long" />
        <argument
            android:name="kilometrajeId"
            android:defaultValue="-1L"
            app:argType="long" />
        <!-- Acciones para editar desde HistorialDiaFragment -->
        <action
            android:id="@+id/action_historialDiaFragment_to_addIngresoFragment"
            app:destination="@id/nav_add_ingreso" />
        <action
            android:id="@+id/action_historialDiaFragment_to_addGastoFragment"
            app:destination="@id/nav_add_gasto" />
        <action
            android:id="@+id/action_historialDiaFragment_to_addHorasTrabajadasFragment"
            app:destination="@id/nav_add_horas_trabajadas" />
        <action
            android:id="@+id/action_historialDiaFragment_to_addKilometrajeFragment"
            app:destination="@id/nav_add_kilometraje" />
    </fragment>

    <!-- ... (otros fragmentos como nav_main_dashboard, nav_settings, etc. que ya tenía) ... -->
    <fragment
        android:id="@+id/nav_main_dashboard"
        android:name="com.sami.DriverCash.Ui.Dasboarh.MainDashboardFragment"
        android:label="Panel Principal"
        tools:layout="@layout/fragment_main_dashboard" />

    <fragment
        android:id="@+id/nav_settings"
        android:name="com.sami.DriverCash.Ui.Preferences.SettingsFragment"
        android:label="Preferencias"
        tools:layout="@xml/root_preferences">
        <action
            android:id="@+id/action_settingsFragment_to_misVehiculosRegistradosFragment"
            app:destination="@id/nav_mis_vehiculos_registrados" />
    </fragment>

    <fragment
        android:id="@+id/nav_mis_vehiculos_registrados"
        android:name="com.sami.DriverCash.Ui.Preferences.MisVeiculos.MisVehiculosRegistradosFragment"
        android:label="Mis Vehículos"
        tools:layout="@layout/fragment_mis_vehiculos_registrados">
        <action
            android:id="@+id/action_misVehiculosRegistradosFragment_to_addVehicleFragment"
            app:destination="@id/nav_add_vehicle" />
    </fragment>

    <fragment
        android:id="@+id/nav_add_vehicle"
        android:name="com.sami.DriverCash.Ui.Preferences.MisVeiculos.AddVehicleFragment"
        android:label="Añadir Vehículo"
        tools:layout="@layout/fragment_vehicle">
        <argument
            android:name="vehicleId"
            android:defaultValue="-1L"
            app:argType="long" />
        <action
            android:id="@+id/action_nav_add_vehicle_to_nav_mis_vehiculos_registrados"
            app:destination="@id/nav_mis_vehiculos_registrados"
            app:popUpTo="@id/nav_mis_vehiculos_registrados"
            app:popUpToInclusive="true" />
    </fragment>

</navigation>
